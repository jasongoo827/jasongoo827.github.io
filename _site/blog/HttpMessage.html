<!DOCTYPE html>

<!--
  portfolYOU Jekyll theme by yousinix
  Free for personal and commercial use under the MIT license
  https://github.com/yousinix/portfolYOU
-->

<html lang="en" class="h-100">

<!-- Google Analytics -->
<!-- Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-GNZM4ZG5RT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-GNZM4ZG5RT', {
    'anonymize_ip': true,
    'cookie_flags': 'SameSite=None;Secure'
  });
</script>



<body class="h-100 d-flex flex-column">

  <main class="flex-shrink-0 container mt-5">
    <nav class="navbar navbar-expand-lg navbar-themed">

  <a class="navbar-brand" href="/"><h5><b>jasongoo827</b></h5></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <i class="fas fa-1x fa-bars text-themed"></i>
  </button>

  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav ml-auto"><a class="nav-item nav-link " href="/CLAUDE">기술 블로그 프로젝트</a>

      <a class="nav-item nav-link " href="/projects/">Projects</a>

      <a class="nav-item nav-link active" href="/blog/">Blog</a>

      <a class="nav-item nav-link " href="/about/">About</a>

      

      <span id="theme-toggler" class="nav-item nav-link" role="button" onclick="toggleTheme()"></span>
    </div>
  </div>

</nav>
    <div class="col-lg-10 mx-auto mt-5 markdown-body">
  <div class="row">
  <!-- 본문 영역 -->
  <div class="col-md-9">
    <h1><b>Http Request & Response handling in Webserv + Config</b></h1>

    <p class="post-metadata text-muted">
      03 July 2025 -  
      <b>15 mins read time</b>

      <br>Tags: 
        
        <a class="text-decoration-none no-underline" href="/blog/tags#network">
          <span class="tag badge badge-pill text-primary border border-primary">Network</span>
        </a>
        
        <a class="text-decoration-none no-underline" href="/blog/tags#http">
          <span class="tag badge badge-pill text-primary border border-primary">Http</span>
        </a>
        </p>

    <h2 id="도입">도입</h2>
<p>지난 포스트에서 kqueue를 사용해 I/O Multiplexing을 어떻게 구현했는지 설명했다. 오늘은 서버 소켓을 만들기 전에 서버 설정 단계를 의마하는 Configuration 파일에 대한 것, 그리고 클라이언트의 Request에 따라 서버가 어떻게 Response를 생성해야 하는지에 대한 포스트를 작성할 것이다.</p>

<h2 id="configuration-file">Configuration file</h2>
<p>Configuration 파일은 서버의 포트 번호, 이름, URL 규칙 등 웹 서버의 설정에 관한 정보가 담겨있는 파일이다. 이렇게만 설명하면 잘 와 닿지 않을 수 있으니, 우리의 config 파일을 예시로 들어 설명해보겠다.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="err">SOFTWARE_NAME</span><span class="w"> 		</span><span class="err">nginx;</span><span class="w">
</span><span class="err">SOFTWARE_VERSION</span><span class="w"> 	</span><span class="mf">0.1</span><span class="err">;</span><span class="w">

</span><span class="err">HTTP_VERSION</span><span class="w">		</span><span class="mf">1.1</span><span class="err">;</span><span class="w">
</span><span class="err">CGI_VERSION</span><span class="w">			</span><span class="mf">1.1</span><span class="err">;</span><span class="w">

</span><span class="err">server</span><span class="w"> </span><span class="p">{</span><span class="w">
	</span><span class="err">listen</span><span class="w">			</span><span class="mi">80</span><span class="err">;</span><span class="w">
	</span><span class="err">server_name</span><span class="w">		</span><span class="err">localhost;</span><span class="w">

	</span><span class="err">error_page</span><span class="w">		</span><span class="mi">404</span><span class="w">		</span><span class="err">./usr/html/error.html;</span><span class="w">

	</span><span class="err">#file</span><span class="w"> </span><span class="err">upload</span><span class="w"> 	</span><span class="err">path</span><span class="w">
	</span><span class="err">filepath</span><span class="w">		</span><span class="err">./usr/html/upload;</span><span class="w">

	</span><span class="err">location</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="err">limit_except</span><span class="w">		</span><span class="err">GET</span><span class="w"> </span><span class="err">POST</span><span class="w"> </span><span class="err">DELETE;</span><span class="w">
		</span><span class="err">#</span><span class="w"> </span><span class="err">return</span><span class="w">		</span><span class="mi">301</span><span class="w"> </span><span class="err">http://naver.com;</span><span class="w">
		</span><span class="err">cgi</span><span class="w">			</span><span class="err">php:./usr/cgi/upload.php</span><span class="w">  </span><span class="err">bla:./usr/cgi/upload.bla</span><span class="w"> </span><span class="err">py:./usr/cgi/get_script.py;</span><span class="w">
		</span><span class="err">client_body_size</span><span class="w"> 	</span><span class="mi">110000000</span><span class="err">;</span><span class="w">
		</span><span class="err">root</span><span class="w">			</span><span class="err">./usr/html;</span><span class="w">
		</span><span class="err">index</span><span class="w">			</span><span class="err">index.html;</span><span class="w">
		</span><span class="err">autoindex</span><span class="w">		</span><span class="err">ON;</span><span class="w">
	</span><span class="p">}</span><span class="w">
	</span><span class="err">location</span><span class="w"> </span><span class="err">/cgi</span><span class="w"> </span><span class="p">{</span><span class="w">
		</span><span class="err">cgi</span><span class="w">			</span><span class="err">php:./usr/cgi/upload.php</span><span class="w">  </span><span class="err">bla:./usr/cgi/cgi_tester</span><span class="w"> </span><span class="err">py:./usr/cgi/get_script.py;</span><span class="w">
		</span><span class="err">root.</span><span class="w"> 	</span><span class="err">./usr/cgi;</span><span class="w">
	</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<p>configuration 파일은 전역 설정, server block, location block 의 계층적 구조로 구성된다. 
전역 설정은 과제에서 꼭 필요한 항목은 아니지만, nginx의 configuration 파일을 확인했을 때 비슷한 항목들이 있어 넣어봤다.</p>

<h4 id="전역-설정">전역 설정</h4>
<ul>
  <li>SOFTWARE_NAME: 서버 이름 또는 식별자</li>
  <li>SOFTWARE_VERSION: 서버 버전 정보</li>
  <li>HTTP_VERSION: 지원하는 HTTP 버전</li>
  <li>CGI_VERSION: 지원하는 CGI 프로토콜 버전</li>
</ul>

<h4 id="server-block">server block</h4>
<p>하나의 서버 단위를 의미</p>

<ul>
  <li>listen: 서버의 포트 번호</li>
  <li>server_name: 서버에 연결될 도메인 또는 호스트 이름</li>
  <li>error_page: 에러 발생시 반환할 코드 번호와 페이지</li>
  <li>filepath: 클라이언트가 업로드한 파일을 저장할 경로</li>
</ul>

<h4 id="location-block">location block</h4>
<p>특정 URI 경로에 대한 처리 방식 지정</p>

<ul>
  <li>limit_except: 해당 location block에서 허용할 HTTP 메서드</li>
  <li>cgi: cgi 처리 시 사용 가능한 확장자와 실행 파일 경로</li>
  <li>root: 해당 경로에서 파일을 찾을 실제 디렉토리 경로</li>
  <li>index: 기본적으로 반환할 파일명</li>
  <li>autoindex: 요청한 경로가 디렉토리일 경우, 파일 목록을 자동으로 보여줄지 여부</li>
  <li>client_body_size:</li>
</ul>

<p>nginx에서 사용하는 설정은 이것보다 훨씬 많지만, 과제에서 요구하는 설정은 그렇게 많지 않기 때문에 이 정도에서 마치겠다.</p>

<h2 id="configuration-file-parsing">Configuration file Parsing</h2>
<p>파싱은 다음과 같은 과정으로 이루어졌다.</p>

<ul>
  <li>*.conf 파일 읽기</li>
  <li>string -&gt; Config class</li>
  <li>server block 파싱</li>
  <li>locate block 파싱</li>
</ul>

<p>파싱 과정 중 생기는 오류를 효과적으로 분류하기 위해 Status라는 클래스를 만들어 관리했다. Webserv 프로젝트는 Google Convention을 사용했는데, 해당 Convention에서 exception을 사용하지 않는다고 명시되어 있어 Status를 도입하게 됐다.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifndef STATUS_HPP
# define STATUS_HPP
</span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">Status</span>
<span class="p">{</span>
<span class="nl">public:</span>
	<span class="n">Status</span><span class="p">();</span>
	<span class="k">static</span> 	<span class="n">Status</span> <span class="n">OK</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
	<span class="k">static</span> 	<span class="n">Status</span> <span class="n">Error</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">message</span><span class="p">);</span>
	<span class="k">static</span>	<span class="n">Status</span> <span class="n">create</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">message</span><span class="p">);</span>
	<span class="kt">bool</span>	<span class="n">ok</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
	<span class="k">const</span>	<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">message</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="nl">private:</span>
	<span class="n">Status</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">message</span><span class="p">);</span>
	<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">_message</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif
</span></code></pre></div></div>

<h4 id="conf-파일-읽기">conf 파일 읽기</h4>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Status</span> <span class="n">Config</span><span class="o">::</span><span class="n">ReadConfig</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">file</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">utils</span><span class="o">::</span><span class="n">CheckExtension</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s">".conf"</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"file extension error"</span><span class="p">);</span>
	
	<span class="n">std</span><span class="o">::</span><span class="n">ifstream</span> <span class="n">infile</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">ios</span><span class="o">::</span><span class="n">in</span> <span class="o">|</span> <span class="n">std</span><span class="o">::</span><span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">infile</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Open error"</span><span class="p">);</span>
	<span class="n">infile</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">ios</span><span class="o">::</span><span class="n">end</span><span class="p">);</span>
	<span class="kt">size_t</span> <span class="n">size</span> <span class="o">=</span> <span class="n">infile</span><span class="p">.</span><span class="n">tellg</span><span class="p">();</span>
	<span class="n">infile</span><span class="p">.</span><span class="n">seekg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">ios</span><span class="o">::</span><span class="n">beg</span><span class="p">);</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">size</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="n">memset</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">size</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">infile</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">size</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="n">infile</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Read error"</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">infile</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
	<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">file_content</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
	<span class="k">delete</span> <span class="p">[]</span><span class="n">buffer</span><span class="p">;</span>

	<span class="n">Status</span> <span class="n">status</span> <span class="o">=</span> <span class="n">ParseConfig</span><span class="p">(</span><span class="n">file_content</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">status</span><span class="p">.</span><span class="n">ok</span><span class="p">())</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">message</span><span class="p">());</span>
	<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">OK</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>입력으로 들어온 *.conf 파일을 읽어 string으로 변환한다.</p>

<h4 id="string---config-class">string -&gt; Config class</h4>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Status</span> <span class="n">Config</span><span class="o">::</span><span class="n">ParseConfig</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">file</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">std</span><span class="o">::</span><span class="n">istringstream</span> <span class="n">iss</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
	<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">str</span><span class="p">;</span>
	<span class="n">Status</span> <span class="n">status</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">iss</span><span class="p">,</span> <span class="n">str</span><span class="p">,</span> <span class="sc">'\n'</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">'#'</span><span class="p">)</span> <span class="o">!=</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span> <span class="o">||</span> <span class="n">str</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">utils</span><span class="o">::</span><span class="n">IsStrSpace</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"server"</span><span class="p">)</span> <span class="o">==</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">utils</span><span class="o">::</span><span class="n">CheckTerminator</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Terminator error"</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"SOFTWARE_NAME"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseSoftwareName</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"SOFTWARE_VERSION"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseSoftwareVer</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"HTTP_VERSION"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseHttpVer</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"CGI_VERSION"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseCgiVer</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"server"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseServerVariable</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">iss</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"wrong config option error"</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">status</span><span class="p">.</span><span class="n">ok</span><span class="p">())</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">message</span><span class="p">());</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">CheckConfigOpt</span><span class="p">())</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Essential config option not included"</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">server_vec</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"no server error"</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">CheckPortDup</span><span class="p">())</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"port duplicate error"</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">OK</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>std::istringstream을 사용해 ‘\n’을 기준으로 앞에서 설명한 전역 설정에 해당하는 부분을 클래스의 멤버 변수에 저장했다. 전역 설정은 중복으로 등장하는 부분만 예외로 처리했다. 그 다음, “server”로 시작하는 행을 찾게 되면 server block 파싱을 시작했다.</p>

<h4 id="server-block-파싱">server block 파싱</h4>
<p>server block은 “server {}” 에서 중괄호 안의 내용에 해당한다. 따라서 먼저 중괄호 안의 내용만 string으로 추출했다.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Status</span> <span class="n">Config</span><span class="o">::</span><span class="n">ParseServerVariable</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">file</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">istringstream</span><span class="o">&amp;</span> <span class="n">iss</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">server_block</span> <span class="o">=</span> <span class="n">ExtractServerBlock</span><span class="p">(</span><span class="n">iss</span><span class="p">,</span> <span class="n">file</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">server_block</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"server block error"</span><span class="p">);</span>
	<span class="n">Server</span> <span class="n">server</span><span class="p">;</span>
	<span class="n">Status</span> <span class="n">status</span> <span class="o">=</span> <span class="n">server</span><span class="p">.</span><span class="n">ParseServerBlock</span><span class="p">(</span><span class="n">server_block</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">ok</span><span class="p">())</span>
		<span class="k">this</span><span class="o">-&gt;</span><span class="n">server_vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">server</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">status</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>그 후에는 전역 설정 항목 파싱과 비슷한 맥락으로 server block을 파싱했다.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Status</span> <span class="n">Server</span><span class="o">::</span><span class="n">ParseServerBlock</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">server_block</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">std</span><span class="o">::</span><span class="n">istringstream</span> <span class="n">iss</span><span class="p">(</span><span class="n">server_block</span><span class="p">);</span>
	<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">str</span><span class="p">;</span>
	<span class="n">Status</span> <span class="n">status</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">iss</span><span class="p">,</span> <span class="n">str</span><span class="p">,</span> <span class="sc">'\n'</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">'#'</span><span class="p">)</span> <span class="o">!=</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span> <span class="o">||</span> <span class="n">str</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">utils</span><span class="o">::</span><span class="n">IsStrSpace</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">"location /"</span><span class="p">)</span> <span class="o">==</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">utils</span><span class="o">::</span><span class="n">CheckTerminator</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Terminator error"</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">str</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">';'</span><span class="p">)</span>
			<span class="n">str</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"listen"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParsePortVariable</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"server_name"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseServerName</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"error_page"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseErrorPage</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"filepath"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseFilePath</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"location"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseLocateVariable</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">iss</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"wrong config option error"</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">status</span><span class="p">.</span><span class="n">ok</span><span class="p">())</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">message</span><span class="p">());</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">CheckServerOpt</span><span class="p">())</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Essential server option not included"</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="o">-&gt;</span><span class="n">locate_vec</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"no location error"</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">OK</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>예외처리로는 항목이 중복으로 등장하는지 여부, 포트 범위가 0 ~ 65535인지, error code가 300 ~ 599 사이인지, location block이 존재하는지, listen, server_name, filepath가 모두 등장하는지를 확인했다.</p>

<h4 id="locate-block-파싱">locate block 파싱</h4>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Status</span> <span class="n">Locate</span><span class="o">::</span><span class="n">ParseLocateBlock</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">locate_block</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">std</span><span class="o">::</span><span class="n">istringstream</span> <span class="n">iss</span><span class="p">(</span><span class="n">locate_block</span><span class="p">);</span>
	<span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">str</span><span class="p">;</span>
	<span class="n">Status</span> <span class="n">status</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">iss</span><span class="p">,</span> <span class="n">str</span><span class="p">,</span> <span class="sc">'\n'</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="sc">'#'</span><span class="p">)</span> <span class="o">!=</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">::</span><span class="n">npos</span> <span class="o">||</span> <span class="n">str</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">||</span> <span class="n">utils</span><span class="o">::</span><span class="n">IsStrSpace</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">utils</span><span class="o">::</span><span class="n">CheckTerminator</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Terminator error"</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="n">str</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"limit_except"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseMethod</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"return"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseRedirect</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"root"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseRoot</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"index"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseIndex</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"autoindex"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseAutoIndex</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"cgi"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseCgi</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">utils</span><span class="o">::</span><span class="n">find</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s">"client_body_size"</span><span class="p">))</span>
			<span class="n">status</span> <span class="o">=</span> <span class="n">ParseClientSize</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"wrong config option error"</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">status</span><span class="p">.</span><span class="n">ok</span><span class="p">())</span>
			<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Parsing error"</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">CheckLocateOpt</span><span class="p">())</span>
		<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">Error</span><span class="p">(</span><span class="s">"Essential location option not included"</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">Status</span><span class="o">::</span><span class="n">OK</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>앞에서 server block을 string으로 추출했던 것처럼, locate block을 string으로 추출한 후 파싱을 진행했다. 예외 처리로는 허용 메서드 중 post, get, delete을 제외한 다른 메서드가 있는지, client_body_size가 허용 범위를 넘어서는지, root가 등장하는지, 중복으로 등장하는 항목이 없는지를 확인하여 처리했다.</p>

<p>이렇게 파싱을 마치고 나면, Config라는 클래스 안에 필요한 정보가 모두 들어있게 된다. 이후에는 ServerManager에서 Config의 Server block 정보를 바탕으로 서버 소켓을 생성하게 된다. 그리고 클라이언트의 request를 location block의 정보를 바탕으로 처리할 수 있게 된다.</p>

<h2 id="http-message">Http Message</h2>
<p>Http 메시지는 단순한, 데이터의 구조화된 블록이다. 메시지는 시작줄, 헤더 블록, 본문 이렇게 세 부분으로 이루어진다. 시작줄은 이것이 어떤 메시지인지 서술하며, 헤더 블록은 속성을, 본문은 데이터를 담고 있다.</p>

<p><img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FceqzRL%2FbtrFHEJFUZb%2FAAAAAAAAAAAAAAAAAAAAANG-cLHTNU3CTXaw5CPcQT7NThXHpO43yQwP64pC5N57%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1753973999%26allow_ip%3D%26allow_referer%3D%26signature%3DBQJrez2SPYo7sYI1tg1ouAn2ii0%253D" alt="http message" /></p>

<p><sub>이미지 출처: <a href="https://hahahoho5915.tistory.com/62">tistory</a></sub></p>

<p>시작줄과 헤더는 줄 단위로 분리된 아스키 문자열이다. 각 줄은 /r/n 으로 끝나고, 이 줄바꿈 문자열을 ‘CRLF’라고 부른다. 본문은 단순한 데이터 덩어리이다. 시작줄이나 헤더와는 달리, 텍스트나 binary 데이터를 포함할 수도 있고, 비어있을 수도 있다.</p>

<p>Http 메시지는 요청 메시지와 응답 메시지로 분류 된다.</p>

<h3 id="요청-메시지">요청 메시지</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;메서드&gt; &lt;요청 URL&gt; &lt;버전&gt;
&lt;헤더&gt;

&lt;본문&gt;
</code></pre></div></div>

<h4 id="시작줄">시작줄</h4>

<ul>
  <li>메서드: 클라이언트 측에서 서버가 리소스에 대해 수행해주길 바라는 동작. ‘GET’, ‘POST’, ‘DELETE’ 등과 같이 한 단어로 되어 있다.</li>
  <li>요청 URL: 요청 대상이 되는 리소스를 지칭하는 완전한 URL 혹은 URL의 경로 구성요소이다.</li>
  <li>버전: 메시지에서 사용 중인 Http 버전이다.</li>
</ul>

<p>간단하게 얘기하면 클라이언트가 서버에게 리소스에 대해 무언가를 해달라고 부탁하는 것이다.</p>

<h4 id="헤더">헤더</h4>
<p>클라이언트의 요청에 대한 부가 정보들이다. 주로 사용되는 헤더들은 다음과 같다.</p>

<ul>
  <li>Host: 요청 대상 서버의 도메인과 포트</li>
  <li>User-Agent: 클라이언트(브라우저/앱)의 이름, 버전, OS 정보 등</li>
  <li>Accept: 클라이언트가 처리할 수 있는 MIME 타입(text/html, application/json)</li>
  <li>Accept-Language: 선호하는 언어</li>
  <li>Accept-Encoding: 지원하는 압축 방식</li>
  <li>Connection: 연결 관리(keep-alive, close)</li>
  <li>Content-Type: 전송하는 데이터 타입(application/json, multipart/form-data 등)</li>
  <li>Content-Length: 본문 길이</li>
  <li>Referer: 현재 요청의 출처 URL</li>
  <li>Authorization: 인증 정보</li>
  <li>Cookie: 서버가 이전에 설정한 쿠키 값</li>
  <li>Transfer-Encoding: 본문 데이터를 어떻게 전송할지에 대한 규약</li>
</ul>

<h4 id="본문">본문</h4>
<p>요청 메시지에는 대부분 본문이 없지만, POST, PUT 메서드에는 본문이 포함된다.</p>

<h3 id="응답-메시지">응답 메시지</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;버전&gt; &lt;상태 코드&gt; &lt;사유 구절&gt;
&lt;헤더&gt;

&lt;본문&gt;
</code></pre></div></div>

<h4 id="시작줄-1">시작줄</h4>

<ul>
  <li>버전: 메시지에서 사용 중인 Http 버전이다.</li>
  <li>상태 코드: 요청 중에 무엇이 일어났는지 설명하는 세 자리 숫자이다. 200 번대는 성공, 300번대는 리소스가 옮겨졌음을 의미, 400번대는 클라이언트 오류, 500번대는 서버 오류를 의미한다.</li>
  <li>사유 구절: 상태 코드에 대한 글로 된 설명을 의미한다.</li>
</ul>

<p>간단하게 말하면 클라이언트의 요청에 대한 결과를 반환한 정보이다.</p>

<h4 id="헤더-1">헤더</h4>
<p>서버의 응답에 대한 부가 정보들이다.</p>

<ul>
  <li>Date: 응답이 생성된 날짜와 시간</li>
  <li>Server: 서버의 이름과 버전</li>
  <li>Connection: 연결 유지 여부</li>
  <li>Content-Type: 응답 본문의 MIME 타입</li>
  <li>Content-Length: 응답 본문의 바이트 길이</li>
  <li>Transfer-Encoding: 전송 인코딩 방식</li>
  <li>Content-Encoding: 본문 압축 방식</li>
  <li>Content-Language: 본문 언어</li>
  <li>Expires: 응답이 만료되는 시간</li>
  <li>Set-Cookie: 클라이언트에 쿠키를 설정하는 데 사용</li>
  <li>Location: 3xx 코드와 함께, 이동할 새 위치를 명시</li>
</ul>

<h4 id="본문-1">본문</h4>
<p>이미지, 비디오, HTML 문서 등 다양한 종류의 데이터</p>

<h2 id="정리">정리</h2>
<p>웹 서버의 Configuration 파일이 어떤 항목으로 구성되어 있고, 항목에 따라 서버가 어떻게 만들어지는지 설명했다. 또한 request, response 메시지가 각각 어떤 형식으로 구성되어 있고 각 속성 값이 무슨 의미를 지니는지 간단하게 설명했다.</p>

<p>원래는 Http 메시지에 대해서 어떻게 파싱했고, 어떻게 응답을 생성했는지 자세하게 설명하려고 했다. 근데 이 프로젝트를 진행한지 1년이 넘어 잘 기억이 나지 않는 부분도 있고, 내가 구현하지 않은 부분에 대한 설명을 하는 것이 맞나? 라는 생각이 들었다. 그래서 포스트를 계속 작성하는 것이 어렵겠다는 생각이 들어 여기까지 작성하려고 한다.</p>

<p>앞으로 블로그의 포스트는 프로젝트를 진행하며 작성하는 것이 좋을 것 같다. 좀 더 현장감이 살아나기도 하고, 과거의 기억에 의존해 작성하지 않아도 되기 때문이다. 또한 포스트를 작성하며 생각 정리도 되고, 새로운 영감을 얻을 수도 있을 것 같다.</p>



    
    <div class="pt-5">
      
    </div>
    
  </div>

  <!-- 사이드바 영역 -->
  <div class="col-md-3">
    <div class="tags-list">
    <h3>📂 태그 목록</h3>
    <ul>
      
      
        
        
        <li>
          <a href="/blog/tags#ai">
            AI (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#automation">
            Automation (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#cmake">
            CMake (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#civilization">
            Civilization (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#claude">
            Claude (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#development">
            Development (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#game-engine">
            Game Engine (9)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#gameanalysis">
            GameAnalysis (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#graphics">
            Graphics (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#http">
            HTTP (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#http">
            Http (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#imgui">
            ImGui (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#makefile">
            Makefile (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#multiplexing">
            Multiplexing (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#network">
            Network (3)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#physics">
            Physics (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#scripting">
            Scripting (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#server">
            Server (2)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#systemdesign">
            SystemDesign (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#tcp-ip">
            TCP/IP (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#unity">
            Unity (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#kqueue">
            kqueue (1)
          </a>
        </li>
      
        
        
        <li>
          <a href="/blog/tags#yaml-cpp">
            yaml-cpp (1)
          </a>
        </li>
      
    </ul>
  </div>
  
  </div>
</div>

</div>
  </main>
  <footer class="mt-auto py-3 text-center">

  <small class="text-muted mb-2">
    <i class="fas fa-code"></i> with <i class="fas fa-heart"></i>
    by <strong>jasongoo827</strong>
  </small>

  <div class="container-fluid justify-content-center"><a class="social mx-1"  href="mailto:jasongoo@naver.com"
       style="color: #6c757d"
       onMouseOver="this.style.color='#db4437'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fas fa-envelope fa-1x"></i>
    </a><a class="social mx-1"  href="https://www.github.com/jasongoo827"
       style="color: #6c757d"
       onMouseOver="this.style.color='#333333'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fab fa-github fa-1x"></i>
    </a><a class="social mx-1"  href="https://www.linkedin.com/in/jae-woo-goo-38bba5353"
       style="color: #6c757d"
       onMouseOver="this.style.color='#007bb5'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fab fa-linkedin-in fa-1x"></i>
    </a><a class="social mx-1"  href="https://www.youtube.com/channel/UC7E6rQHpg4e_c6VHXO0G0XQkoo"
       style="color: #6c757d"
       onMouseOver="this.style.color='#ff0000'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fab fa-youtube fa-1x"></i>
    </a>

</div><small id="attribution">
    theme <a href="https://github.com/yousinix/portfolYOU">portfolYOU</a>
  </small>

</footer>

  
  <!-- GitHub Buttons -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<!-- jQuery CDN -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Popper.js CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>

<!-- Bootstrap JS CDN -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- wow.js CDN & Activation -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.js"></script>
<script> new WOW().init(); </script>

<!-- Initialize all tooltips -->
<script>
$(function () {
    $('[data-toggle="tooltip"]').tooltip()
})
</script>
</body>

</html>